---
title: "[MySQL] SELECT ë¬¸"
excerpt: "#í˜¼ìžê³µë¶€í•˜ëŠ”SQL #ë…í•™ #MySQL SELECTë¬¸ì— ëŒ€í•´ ì•Œì•„ë³´ìž!"

categories:
  - sql
tags:
  - [SQL]

permalink: /sql/2/

toc: true
toc_sticky: true

date: 2023-01-22
last_modified_at: 2023-01-22
---


## ðŸš€ ê¸°ë³¸ ì¡°íšŒí•˜ê¸°: SELECT ~ FROM

### ðŸ’¡ SELECTë¬¸ ê¸°ë³¸ í˜•ì‹

```
SELECT  ì—´_ì´ë¦„
  FROM  í…Œì´ë¸”_ì´ë¦„
  WHERE ì¡°ê±´ì‹
  GROUP BY  ì—´_ì´ë¦„
  HAVING  ì¡°ê±´ì‹
  ORDER BY  ì—´_ì´ë¦„
  LIMIT ìˆ«ìž [OFFSET ìˆ«ìž]
```

### ðŸ’¡ [WHERE] BETWEEN ~ AND

```
SELECT  mem_name, height
  FROM  member
  WHERE height >= 163 AND height <= 165;
```

```
SELECT  mem_name, height
  FROM  member
  WHERE height BETWEEN 163 AND 165;
```

### ðŸ’¡ [WHERE] IN()

```
SELECT  mem_name, addr
  FROM  member
  WHERE addr = 'ê²½ê¸°' OR addr = 'ì „ë‚¨' OR addr = 'ê²½ë‚¨';
```

```
SELECT  mem_name, addr
  FROM  member
  WHERE addr IN ('ê²½ê¸°', 'ì „ë‚¨', 'ê²½ë‚¨');
```

### ðŸ’¡ [WHERE] LIKE
- ë¬¸ìžì—´ì˜ ì¼ë¶€ ê¸€ìž ê²€ìƒ‰ì‹œ LIKE ì‚¬ìš©

- ë¬´ì—‡ì´ë“  í—ˆìš©(%)

```
SELECT  *
  FROM    member
  WHERE   mem_name LIKE 'ìš°%';
```

- í•œ ê¸€ìžì™€ ë§¤ì¹˜í•˜ê¸° ìœ„í•´ ì–¸ë”ë°”(_) ì‚¬ìš©
```
SELECT  *
  FROM    member
  WHERE   mem_name LIKE '__í•‘í¬';
```

## ðŸš€ ORDER BY ì ˆ
- ê²°ê³¼ ê°’ì´ë‚˜ ê°œìˆ˜ì— ëŒ€í•´ì„œëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šì§€ë§Œ, ê²°ê³¼ê°€ ì¶œë ¥ë˜ëŠ” ìˆœì„œë¥¼ ì¡°ì ˆ
- ê¸°ë³¸ê°’(DEFAULE)ì€ ASC(Ascending, ì˜¤ë¦„ì°¨ìˆœ), DESC(Descending, ë‚´ë¦¼ì°¨ìˆœ)

```
SELECT  mem_id, mem_name, debut_date, height
  FROM  member
  WHERE height >= 164
  ORDER BY height DESC, debut_date ASC;  -- ì •ë ¬ ìš°ì„ ìˆœìœ„ ì„¤ì • ê°€ëŠ¥
```

### ðŸ’¡ LIMIT
- ì¶œë ¥ ê°œìˆ˜ ì œí•œ
- LIMIT ì€ ì²« ë°ì´í„°ë¥¼ 0ë²ˆìœ¼ë¡œ ì„¤ì •í•˜ê³  ì‹œìž‘  


**LIMIT í˜•ì‹**

```
LIMIT ì‹œìž‘, ê°œìˆ˜
LIMIT ê°œìˆ˜ OFFSET ì‹œìž‘ -- ìœ„ì™€ ë™ì¼í•œ ê²°ê³¼
```

```
SELECT  mem_name, height
  FROM  member
  ORDER BY height DESC
  LIMIT 3, 2;   -- 3ë²ˆì§¸ë¶€í„° 2ê±´ë§Œ ì¡°íšŒ
```

### ðŸ’¡ DISTINCT
- ì¤‘ë³µëœ ê²°ê³¼ ì œê±°í•˜ê³  ê²°ê³¼ê°’ì„ 1ê°œë§Œ ë‚¨ê¹€

```
SELECT DISTINCT addr
  FROM  member;
```

## ðŸš€ GROUP BY ì ˆ
### ðŸ’¡ ì§‘ê³„í•¨ìˆ˜(Aggregate Function)
- ì£¼ë¡œ GROUP BY ì ˆê³¼ í•¨ê»˜ ì“°ì´ë©° ë°ì´í„°ë¥¼ ê·¸ë£¹í™”(grouping) í•´ì£¼ëŠ” ê¸°ëŠ¥

|&emsp;&emsp;í•¨ìˆ˜ëª…&emsp;&emsp;|ì„¤ëª…|
|-----|----|
|SUM()|í•©ê³„ë¥¼ êµ¬í•©ë‹ˆë‹¤.|
|AVG()|í‰ê· ì„ êµ¬í•©ë‹ˆë‹¤.|
|MIN()|ìµœì†Œê°’ì„ êµ¬í•©ë‹ˆë‹¤.|
|MAX()|ìµœëŒ€ê°’ì„ êµ¬í•©ë‹ˆë‹¤.|
|COUNT()|í–‰ì˜ ê°œìˆ˜ë¥¼ ì…‰ë‹ˆë‹¤.|
|COUNT(DISTINCT)|í–‰ì˜ ê°œìˆ˜ë¥¼ ì…‰ë‹ˆë‹¤(ì¤‘ë³µì€ 1ê°œë§Œ ì¸ì •).&emsp;&emsp;|

1. íšŒì›ë³„ ì´ êµ¬ë§¤ ê°œìˆ˜

```
SELECT  mem_id "íšŒì› ì•„ì´ë””", SUM(amount) "ì´ êµ¬ë§¤ ê°œìˆ˜"
  FROM  buy
  GROUP BY mem_id;
```

2. íšŒì›ì´ êµ¬ë§¤í•œ ê¸ˆì•¡ì˜ ì´í•©

```
SELECT  mem_id "íšŒì› ì•„ì´ë””", SUM(price * amount) "ì´ êµ¬ë§¤ ê¸ˆì•¡"
  FROM  buy
  GROUP BY mem_id;
```

3. ê° íšŒì›ì˜ í‰ê·  êµ¬ë§¤ ê°œìˆ˜

```
SELECT  mem_id, AVG(amount) "í‰ê·  êµ¬ë§¤ ê°œìˆ˜"
  FROM  buy
  GROUP BY mem_id;
```

4. ì—°ë½ì²˜ê°€ "ìžˆëŠ”" íšŒì›ì˜ ìˆ˜ë§Œ ì¹´ìš´íŠ¸

```
SELECT  COUNT(phone1) "ì—°ë½ì²˜ê°€ ìžˆëŠ” íšŒì›"
  FROM  member;
```

### ðŸ’¡ Having ì ˆ
- WHEREì™€ ë¹„ìŠ·í•œ ê°œë…ìœ¼ë¡œ ì¡°ê±´ì„ ì œí•œí•˜ëŠ” ê²ƒì´ì§€ë§Œ, ì§‘ê³„í•¨ìˆ˜ì— ëŒ€í•´ ì¡°ê±´ì„ ì œí•œí•˜ëŠ” ê²ƒ
- **ë°˜ë“œì‹œ GROUP BY ì ˆ ë‹¤ìŒì— ë‚˜ì™€ì•¼ í•¨**
- íšŒì›ë³„ ì´ êµ¬ë§¤ì•¡ì´ 1000ë³´ë‹¤ í° íšŒì›ë§Œ ì¶”ì¶œ

```
SELECT  mem_id "íšŒì› ì•„ì´ë””", SUM(price * amount) "ì´ êµ¬ë§¤ ê¸ˆì•¡"
  FROM  buy
  GROUP BY mem_id
  HAVING SUM(price * amount) > 1000;
```

